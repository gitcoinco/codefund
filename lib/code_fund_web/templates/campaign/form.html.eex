<span class="container-fluid" data-controller="campaign-form">
  <%=
     [
      name: [type: :text_input, label: "Name"],
      redirect_url: [type: :text_input, label: "Redirect URL", opts: [placeholder: "https://"]],
      status: [type: :select, label: "Status", opts: [choices: [Pending: 1, Active: 2, Archived: 3]]],
      start_date: [type: :text_input, label: "Start Date"],
      end_date: [type: :text_input, label: "End Date"],
      creative_id: [type: :select, label: "Creative", opts: [choices: @conn.assigns.creatives]],
      audience_id: [type: :select, label: "Audience", opts: [choices: @conn.assigns.audiences]],
      ecpm: [type: :currency_input, label: "eCPM",
        opts: [
              step: "0.01",
              min: "0",
              "data-target": "campaign-form.ecpm",
              "data-action": "change->campaign-form#calculateImpressions"
            ]
      ],
      included_countries: [
          type: :multiple_select,
          label: "Included Countries",
          opts: [
            data: [
              target: "campaign-form.includedCountries",
              action: "change->campaign-form#generateEstimates",
              key: "included_countries"
            ],
            class: "form-control campaign-form selectize",
            choices: Framework.Geolocation.Countries.list(),
            hint: ~s"""
            <div>
              <span class="click-option" data-action='click->campaign-form#selectRecommendedCountries'>Recommended</span> |
              <span class="click-option" data-action='click->campaign-form#selectPopularCountries'>Popular</span> |
              <span class="click-option" data-action='click->campaign-form#selectAllCountries'>All</span> |
              <span class="click-option" data-action='click->campaign-form#selectNoCountries'>None</span>
            </div>
            """
          ]
        ],
      budget_daily_amount: [type: :currency_input, label: "Daily Max Spend"],
      total_spend: [type: :currency_input, label: "Total Spend", opts: ["data-target": "campaign-form.totalBudget", "data-action": "change->campaign-form#calculateImpressions"]],
      impression_count: [type: :number_input, label: "Estimated Impressions", opts: ["data-target": "campaign-form.estimatedImpressions"]]
    ] |> render_fields(@form)
  %>
</span>